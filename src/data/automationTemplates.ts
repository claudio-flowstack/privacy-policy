import type { AutomationSystem } from '@/types/automation';

/**
 * Position helper: convert column/row indices to pixel coordinates.
 * x = 40 + col * 340, y = 40 + row * 108
 */
const p = (col: number, row: number) => ({ x: 40 + col * 340, y: 58 + row * 108 });

export const WORKFLOW_TEMPLATES: AutomationSystem[] = [
  {
    id: 'tpl-email-marketing',
    name: 'E-Mail Marketing Automation',
    description: 'Newsletter-Kampagnen automatisiert erstellen, personalisieren und versenden.',
    category: 'Marketing',
    icon: 'mail',
    status: 'draft',
    webhookUrl: '',
    nodes: [
      { id: 'n1', label: 'Kontaktliste', description: 'Empfänger aus CRM laden', icon: 'logo-hubspot', type: 'trigger', ...p(0, 0) },
      { id: 'n2', label: 'Segmentierung', description: 'Zielgruppen aufteilen', icon: 'database', type: 'process', ...p(1, 0) },
      { id: 'n3', label: 'KI-Texterstellung', description: 'Personalisierte Inhalte', icon: 'logo-openai', type: 'ai', ...p(2, 0) },
      { id: 'n4', label: 'E-Mail versenden', description: 'Newsletter aussenden', icon: 'logo-gmail', type: 'output', ...p(3, 0) },
      { id: 'n5', label: 'Tracking', description: 'Öffnungsraten erfassen', icon: 'bar-chart', type: 'output', ...p(3, 1) },
    ],
    connections: [
      { from: 'n1', to: 'n2' },
      { from: 'n2', to: 'n3' },
      { from: 'n3', to: 'n4' },
      { from: 'n3', to: 'n5' },
    ],
    groups: [
      { id: 'g1', label: 'Datenquelle', x: 15, y: 8, width: 280, height: 148, color: 'blue' },
      { id: 'g2', label: 'Verarbeitung', x: 355, y: 8, width: 620, height: 148, color: 'purple' },
      { id: 'g3', label: 'Versand', x: 1035, y: 8, width: 280, height: 256, color: 'green' },
    ],
    outputs: [],
    executionCount: 0,
  },
  {
    id: 'tpl-social-media',
    name: 'Social Media Pipeline',
    description: 'Von der Content-Idee zum fertigen Post auf allen Plattformen.',
    category: 'Marketing',
    icon: 'send',
    status: 'draft',
    webhookUrl: '',
    nodes: [
      { id: 'n1', label: 'Content-Briefing', description: 'Thema & Zielgruppe', icon: 'clipboard', type: 'trigger', ...p(0, 0) },
      { id: 'n2', label: 'KI-Texte', description: 'Posts generieren', icon: 'logo-claude', type: 'ai', ...p(1, 0) },
      { id: 'n3', label: 'Bild-Generierung', description: 'Visuals erstellen', icon: 'logo-openai', type: 'ai', ...p(1, 1) },
      { id: 'n4', label: 'Instagram', description: 'Post veröffentlichen', icon: 'logo-meta', type: 'output', ...p(2, 0) },
      { id: 'n5', label: 'LinkedIn', description: 'Beitrag posten', icon: 'logo-linkedin', type: 'output', ...p(2, 1) },
      { id: 'n6', label: 'Notion Archiv', description: 'Content dokumentiert', icon: 'logo-notion', type: 'output', ...p(2, 2) },
    ],
    connections: [
      { from: 'n1', to: 'n2' },
      { from: 'n1', to: 'n3' },
      { from: 'n2', to: 'n4' },
      { from: 'n2', to: 'n5' },
      { from: 'n2', to: 'n6' },
    ],
    groups: [
      { id: 'g1', label: 'Eingang', x: 15, y: 8, width: 280, height: 148, color: 'blue' },
      { id: 'g2', label: 'KI-Generierung', x: 355, y: 8, width: 280, height: 256, color: 'purple' },
      { id: 'g3', label: 'Plattformen', x: 695, y: 8, width: 280, height: 364, color: 'green' },
    ],
    outputs: [],
    executionCount: 0,
  },
  {
    id: 'tpl-onboarding',
    name: 'Kunden-Onboarding',
    description: 'Neukunden automatisch anlegen, Willkommens-Mail senden und Dokumente erstellen.',
    category: 'Sales',
    icon: 'users',
    status: 'draft',
    webhookUrl: '',
    nodes: [
      { id: 'n1', label: 'Formular-Eingang', description: 'Neuer Kunde registriert', icon: 'clipboard', type: 'trigger', ...p(0, 0) },
      { id: 'n2', label: 'CRM-Eintrag', description: 'Kontakt in HubSpot', icon: 'logo-hubspot', type: 'process', ...p(1, 0) },
      { id: 'n3', label: 'Willkommens-Mail', description: 'Personalisierte E-Mail', icon: 'logo-gmail', type: 'output', ...p(2, 0) },
      { id: 'n4', label: 'Kundenmappe', description: 'Ordner in Drive erstellt', icon: 'logo-google-drive', type: 'output', ...p(2, 1) },
      { id: 'n5', label: 'Team-Info', description: 'Team wird benachrichtigt', icon: 'logo-slack', type: 'output', ...p(2, 2) },
    ],
    connections: [
      { from: 'n1', to: 'n2' },
      { from: 'n2', to: 'n3' },
      { from: 'n2', to: 'n4' },
      { from: 'n2', to: 'n5' },
    ],
    groups: [
      { id: 'g1', label: 'Eingang', x: 15, y: 8, width: 280, height: 148, color: 'blue' },
      { id: 'g2', label: 'Verarbeitung', x: 355, y: 8, width: 280, height: 148, color: 'purple' },
      { id: 'g3', label: 'Aktionen', x: 695, y: 8, width: 280, height: 364, color: 'green' },
    ],
    outputs: [],
    executionCount: 0,
  },
  {
    id: 'tpl-recruiting',
    name: 'HR-Recruiting Pipeline',
    description: 'Bewerbungen automatisch erfassen, bewerten und den Prozess steuern.',
    category: 'HR',
    icon: 'users',
    status: 'draft',
    webhookUrl: '',
    nodes: [
      { id: 'n1', label: 'Bewerbungseingang', description: 'Neue Bewerbung per Mail', icon: 'logo-gmail', type: 'trigger', ...p(0, 0) },
      { id: 'n2', label: 'Daten-Extraktion', description: 'Lebenslauf analysiert', icon: 'logo-openai', type: 'ai', ...p(1, 0) },
      { id: 'n3', label: 'Scoring', description: 'Kandidat bewertet', icon: 'trending-up', type: 'process', ...p(2, 0) },
      { id: 'n4', label: 'Notion-Datenbank', description: 'Profil gespeichert', icon: 'logo-notion', type: 'output', ...p(3, 0) },
      { id: 'n5', label: 'Eingangsbestätigung', description: 'Automatische Antwort', icon: 'logo-gmail', type: 'output', ...p(3, 1) },
      { id: 'n6', label: 'HR-Slack', description: 'Team informiert', icon: 'logo-slack', type: 'output', ...p(3, 2) },
    ],
    connections: [
      { from: 'n1', to: 'n2' },
      { from: 'n2', to: 'n3' },
      { from: 'n3', to: 'n4' },
      { from: 'n3', to: 'n5' },
      { from: 'n3', to: 'n6' },
    ],
    groups: [
      { id: 'g1', label: 'Eingang', x: 15, y: 8, width: 280, height: 148, color: 'blue' },
      { id: 'g2', label: 'Analyse', x: 355, y: 8, width: 620, height: 148, color: 'purple' },
      { id: 'g3', label: 'Aktionen', x: 1035, y: 8, width: 280, height: 364, color: 'green' },
    ],
    outputs: [],
    executionCount: 0,
  },
  {
    id: 'tpl-report',
    name: 'Report-Automation',
    description: 'Daten aus mehreren Quellen sammeln, analysieren und als Report versenden.',
    category: 'Operations',
    icon: 'bar-chart',
    status: 'draft',
    webhookUrl: '',
    nodes: [
      { id: 'n1a', label: 'Google Sheets', description: 'Daten importieren', icon: 'logo-google-sheets', type: 'trigger', ...p(0, 0) },
      { id: 'n1b', label: 'HubSpot-Daten', description: 'CRM-Export', icon: 'logo-hubspot', type: 'trigger', ...p(0, 1) },
      { id: 'n2', label: 'Daten-Merge', description: 'Quellen zusammenführen', icon: 'database', type: 'process', ...p(1, 0) },
      { id: 'n3', label: 'KI-Analyse', description: 'Trends & Muster', icon: 'logo-openai', type: 'ai', ...p(2, 0) },
      { id: 'n4', label: 'Report PDF', description: 'Bericht erstellen', icon: 'logo-google-docs', type: 'output', ...p(3, 0) },
      { id: 'n5', label: 'E-Mail Versand', description: 'An Team senden', icon: 'logo-gmail', type: 'output', ...p(3, 1) },
    ],
    connections: [
      { from: 'n1a', to: 'n2' },
      { from: 'n1b', to: 'n2' },
      { from: 'n2', to: 'n3' },
      { from: 'n3', to: 'n4' },
      { from: 'n3', to: 'n5' },
    ],
    groups: [
      { id: 'g1', label: 'Datenquellen', x: 15, y: 8, width: 280, height: 256, color: 'blue' },
      { id: 'g2', label: 'Analyse', x: 355, y: 8, width: 620, height: 148, color: 'purple' },
      { id: 'g3', label: 'Distribution', x: 1035, y: 8, width: 280, height: 256, color: 'green' },
    ],
    outputs: [],
    executionCount: 0,
  },
  {
    id: 'tpl-support',
    name: 'Support-Ticket System',
    description: 'Eingehende Tickets kategorisieren, priorisieren und an das richtige Team weiterleiten.',
    category: 'Support',
    icon: 'target',
    status: 'draft',
    webhookUrl: '',
    nodes: [
      { id: 'n1', label: 'Ticket-Eingang', description: 'Neue Anfrage empfangen', icon: 'logo-gmail', type: 'trigger', ...p(0, 0) },
      { id: 'n2', label: 'KI-Kategorisierung', description: 'Thema & Priorität', icon: 'logo-claude', type: 'ai', ...p(1, 0) },
      { id: 'n3', label: 'Auto-Antwort', description: 'Bestätigung senden', icon: 'logo-gmail', type: 'output', ...p(2, 0) },
      { id: 'n4', label: 'Ticket-Board', description: 'In Notion angelegt', icon: 'logo-notion', type: 'output', ...p(2, 1) },
      { id: 'n5', label: 'Team-Zuweisung', description: 'Slack-Benachrichtigung', icon: 'logo-slack', type: 'output', ...p(2, 2) },
    ],
    connections: [
      { from: 'n1', to: 'n2' },
      { from: 'n2', to: 'n3' },
      { from: 'n2', to: 'n4' },
      { from: 'n2', to: 'n5' },
    ],
    groups: [
      { id: 'g1', label: 'Eingang', x: 15, y: 8, width: 280, height: 148, color: 'blue' },
      { id: 'g2', label: 'KI-Triage', x: 355, y: 8, width: 280, height: 148, color: 'purple' },
      { id: 'g3', label: 'Aktionen', x: 695, y: 8, width: 280, height: 364, color: 'green' },
    ],
    outputs: [],
    executionCount: 0,
  },
];
